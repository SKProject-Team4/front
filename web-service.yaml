apiVersion: v1
kind: Service
metadata:
  name: web-service # 서비스의 이름
  labels:
    app: web-app
spec:
  selector:
    app: web-app # 이 서비스가 트래픽을 전달할 파드를 선택하는 기준 (web-deployment의 레이블과 일치)
  ports:
    - protocol: TCP
      port: 80 # 서비스가 노출할 포트 (외부에서 접근할 포트)
      targetPort: 5000 # 파드의 컨테이너 포트 (컨테이너 내부 포트)
  type: LoadBalancer # 외부 로드 밸런서를 프로비저닝하여 외부에서 접근 가능하게 합니다.
                     # 개발/테스트 목적이라면 ClusterIP 또는 NodePort를 사용할 수도 있습니다.